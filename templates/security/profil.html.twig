{% extends 'base.html.twig' %}

{% block title %}
    Mon profil - {{ app.user.username }}
{% endblock %}

{% block body %}
    <div class="text-center">
        {% if app.user.picturePath == '' %}
            <img src="{{ asset('pictures/profilPictures/defaultProfilPicture.png') }}" width="150" height="150" class="rounded-circle">
        {% else %}
            <img src="{{ asset('pictures/profilPictures/'~app.user.picturePath~'') }}" width="150" height="150" class="rounded-circle">
        {% endif  %}
        <h2>Mon profil</h2>
        <h3>{{ app.user.username }}</h3>
        <h3>{{ app.user.email }}</h3>
    </div>
    <hr>
    <h2>Mes tricks {{ app.user.tricks | length }}</h2>
    <ul>
    {% for trick in app.user.tricks %}
        <li>
            <a href="{{ path('app_trick_show', {slug : trick.slug}) }}">{{ trick.name }}</a>
            <span>{{ trick.comments | length }} commentaires</span>
        </li>
    {% endfor %}
    </ul>
    <hr>
    <a href="{{ path('app_trick_new') }}">Créer un nouveau trick</a>
    <a href="{{ path('app_profil_modify') }}">Modifier mon profil</a>
    <a href="{{ path('app_logout') }}">Me déconnecter</a>
{% endblock %}
